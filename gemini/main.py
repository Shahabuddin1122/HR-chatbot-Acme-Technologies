import threading

import telebot
import google.generativeai as genai
import dotenv
import os
from flask import Flask

dotenv.load_dotenv()
genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
bot = telebot.TeleBot(os.getenv("TELEGRAM_API_KEY"), parse_mode=None)

# Create the model
generation_config = {
    "temperature": 1,
    "top_p": 0.95,
    "top_k": 64,
    "max_output_tokens": 8192,
    "response_mime_type": "text/plain",
}

model = genai.GenerativeModel(
    model_name="gemini-1.5-flash",
    generation_config=generation_config,
    # safety_settings = Adjust safety settings
    # See https://ai.google.dev/gemini-api/docs/safety-settings
)

custom_content = """
  input: Who you are?,
  output: You are a chatbot designed for ACME Technologies Ltd to answer HR-related questions. Acme Technologies Ltd, Org, started as a modest real estate developer by a group of retired military officers and engineers. Later it entered into the construction of industrial and commercial complexes with a different name called Acme Constructions. By following basic business ethics, like, timely delivery, quality of work, and stunning architecture, Acme Technologies Ltd came into the limelight. \n\nTo provide its own needs and the needs of the clients it started a business in the service sector with a separate company called Acme Services. \n\nOf late, it also extended its business in the field of information technology. Its venture in IT is named Acme AI. It’s mainly doing annotation now but in the future, it plans to enter the other fields of IT to be a part of smart Bangladesh.,
  input: What is the meaning of HR?,
  output: HR stands for Human\nResources. It's a department within organizations responsible for managing\nemployee relations, hiring, training, benefits, and other personnel-related\nfunctions.,
  input: What are HR Policies?,
  output: HR policies are\nguidelines that companies set for employee relations in the workplace. These\nstandardized rules ensure consistency by defining acceptable behavior,\noutlining employee expectations, detailing disciplinary procedures, and\nspecifying organizational responsibilities. Companies implement these policies\nto demonstrate their commitment to regulatory compliance, minimum employment\nstandards, training, diversity, and ethical practices.,
  input: What is The Attendance Policy?,
  output: mswkøó mK‡ji AeMwZi Rb¨ Rvbv‡bv hv‡”Q †h, GKwg †UK‡bvjwRm wjwg‡UW Gi\nAwdm mgq m~wP msµvšÍ c~e©eZx© mKj Awdm Av‡`k Ges bxwZgvjv mg~n iwnZ Kiv nB‡jv|\nGLb †_‡K g¨v‡bR‡g›U Gi wm×všÍ Abyhvqx wb¤œ ewY©Z wbqg Abyhvqx Awdm mgqm~wP\ncvwjZ nB‡e t \n\nK) Awdm mgqt \n\n1.    \nAwdm ïiæ\nmKvj 9:00 NwUKv|\n\n2.   \nAwdm †kl\nweKvj 5:00 NwUKv|\n\n3.   \n`ycy‡ii\nLvevi I bvgv‡Ri weiZx †ejv 1:00 NwUKv n‡Z `ycyi 2:00 NwUKv ch©šÍ|\n\nL) Awdm Dcw¯’wZ I cÖ¯’vbt\n\n1.    \nhw` †Kvb\nwe‡kl Kvi‡b †KD Awd‡m †cŠQv‡Z †`ix K‡ib Z‡e 9:15 wgwb‡Ui g‡a¨ †cŠQv‡j Zvnv‡K\nDcw¯’Z wnmv‡e Mb¨ Kiv nB‡e Ges 9:15 wgwb‡Ui c‡i Dcw¯’Z nB‡j Zvnv‡K †jU wnmv‡e\nMb¨ nB‡e|\n\n●      \ngv‡m 3 w`b\n†jU n‡j 1/2 w`‡bi †eZb KZ©b Kiv n‡e|\n\n●      \ngv‡m 5 w`b\n†jU n‡j 1 w`‡bi †eZb KZ©b Kiv n‡e|\n\n●      \ngv‡m 8 w`b\n†jU n‡j 2 w`‡bi †eZb KZ©b Kiv n‡e|\n\n●      \ngv‡m 10\nw`b †jU n‡j 3 w`‡bi †eZb KZ©b Kiv n‡e|\n\n●      \nAwd‡mi KvR\ne¨wZZ hw` w`‡b 1 N›Uvi †ewk gv‡m 2 w`b †jU nq Z‡e Zvnvi 1/2 w`‡bi †eZb KZ©b Kiv\nn‡e|\n\n \n\n2.   \nRiæix\ncÖ‡qvRb e¨wZZ (XvjvB msµvšÍ, K¬¨v‡q›U wfwRU) hw` Kv‡iv mKv‡j cÖ‡R± wfwR‡U\nhvIqvi cÖ‡qvRb nq Z‡e cÖ_‡g Awd‡m G‡m nvwRiv †gwk‡b wd½vi w`‡q cÖ‡R± wfwR‡U\nhv‡eb Ges Aa©‡ejv cÖ‡R± wfwR‡U †M‡j Aek¨B cieZx©‡Z Awd‡m G‡m nvwRiv †gwk‡b\nwd½vi w`‡q Awdm †_‡K †ei n‡eb| \n\n \n\n3.   \nhw` †KD\nAwdm mgq †kl nIqvi Av‡MB Awdm Z¨vM K‡ib ev QzwU wb‡q †ei nb Z‡e Zvnv wb‡¤œv³\nwbq‡g QzwU cÖ‡hvR¨ nB‡et \n\n●      \n2 w`b\nAa©‡ejv Aybcw¯’wZi †ÿ‡Î dzj 1 w`b QzwU Kvh¨©Ki n‡e Ges Zvnvi K¨vRy‡qj QzwUi\nZvwjKvq ‡hvM n‡e|\n\n●      \nAmy¯’ RwbZ\nKvi‡b Aa©‡ejv QzwU wb‡j D³ wbq‡g Zvnv Amy¯’Zvi QzwUi ZvwjKvq †hvM n‡e| \n\n●      \nD³ wbq‡g\nQzwU †bIqvi ci hw` K¨vRy‡qj (10 w`b) I Amy¯’Zvi QzwU (13 w`b) †kl n‡q hvq Zvn‡j\ncieZx©‡Z webv †eZ‡b QzwU wb‡Z cv‡eb ev Kvh¨Ki Kiv n‡e|\n\n \n\nM) mKj\nDcw¯’wZ, Abycw¯’wZ, AvMgb I cÖ¯’vb wd½vi cvÂ ‡gwkb Ges BAviwc Øviv wbqwš¿Z\nnB‡e| cvÂ †gwkb  Ges BAviwci †iKW©B †eZb\ncÖwµqvKi‡bi Kvh©µ‡g e¨eüZ nB‡e|,
  input: What is The Leave Policy?,
  output: Annual Leave (AL)\n\nEmployees who have worked\ncontinuously for a period of 01(one) year shall be entitled to 20 (twenty) days paid annual leave in\nthe every subsequent 12 (twelve) months of service.\n\n \n\nCasual Leave (CL)\n\n10 days in a calendar\nyear. Cannot be taken for more than 01 (one) day. It can be combined with any\nother leave and is non-cumulative. Allowed on pro-rata basis.\n\n \n\nSick Leave (SL)\n\n14 days sick leave in\na calendar year. Sick leave shall only be granted on the recommendation and\nunder issuance of certificate of a qualified registered doctor when it requires\nmore than two (2) days (‘initial’) to be cured, if the employee fails to\nfurnish the required documents, he/she shall be treated as absent, and any such\nabsence will be resulted into Leave Without Pay (LWP) during that absent\nperiod. Sick leave and Causal leave cannot be carried forward and accumulation\nis not allowed.,
  input: What is The Communication Policy?,
  output: General: A corporate office uses\nvarious means of communication to better manage the corporate affairs. Modern\ntechnologies made these communication means vulnerable for hacking, information\nleakage and various kinds of cyber attacks. To better manage the communication\nissues and guard against the above threats it is important to have proper\npolicies and instructions.  \nAim: To lay down comprehensive\npolicies and instructions to ensure unhindered communication and guard against all kinds of information breach, hacking and cyber attacks. \nScope: This policy shall have instructions and directives on all\ncommunication tools namely: \n\na.     Phones\n(Land Phones, Cell Phones, IP Phones)\n\nb.     Email\n\nc.     Meetings\n\nd.     Internet \n\ne.     Social\nMedia (Viber, WhatsApp, Discord, Facebook, LinkedIn, Instagram, TikTok,\nYouTube)\n\n \n\nThis policy applies to all employees, contractors, suppliers and\npartners of the company.           \n\n            \n\nPhones:\n\nVarious types of phone communication will be used in the Group\nthat are given below:\n\na.     Land\nphones: Group Acme Corporate HQ and other concerns of Group Acme can have land\nphones as required to facilitate business, admin and communication needs. \n\n \n\nb.     Cell\nPhones: Cell phones will be used by all the Management Staffs in the group.\nPhone Sets are to be purchased individually but SIM will be provided to all the\nManagement Staffs of the Group. Management staffs have to use the company\nprovided SIM. In no circumstances, one will use personal SIM for official\ncommunication. Selected employees will be given cell phone allowance as per the\npolicy as revised time to time. List of SIMs are to be kept with HR as well as\nIT depts.  \n\n                            \ni.     Use: Limit\nprivate calls and texts using official SIM/phone. \n\n \n\n                           \nii.     Security:\nKeep your device secured always. Report missing and theft issues to IT/HR asap.\nDon’t open any link or attachment from any unknown sources.\n\n \n\n                          \niii.     Expenditure\nManagement: Monthly phone allowance given to each employee is to be used for\nvoice as well as data.\n\n \n\nc.     IP Phones:\nWork stations of the Group (as required) will be provided with a IP phone.\nIntra and inter office communication will be done through IP Phones. List of IP\nphones and numbers are to be           kept\nin the IT/HR depts. IT to ensure that all the IP Phones are operational all the\ntime all the users are appropriately trained on the proper use of phones..\n\n                        \n\nEmail:\n\n \n\nEmails are most important\nand reliable means of communication for the group. Following are to be adhered\nto in respect of email communication:\n\n \n\na.     Official\nEmail: Most of the employees (who needs to make written communication) will be\nallotted with an official email address. For official written communication all\nare to use official email. List of\n\n \n\nb.     official\nEmails are to be kept with HR and IT. Official communication through any other\nmail address is strictly forbidden. Disciplinary action will be taken for any\nviolation of this instruction.\n\nc.     Personal\nEmail: One may have personal Email but that can’t be used for any official\ncommunication. List of personal emails are also to be kept with HR and IT.\n\n \n\nd.     Response\nTime: Emails to be responded within 24 hours during business days.\n\n \n\ne.     Language:\nBoth English and Bangla can be used in email but the language has to be clear,\nrespectful, concise and professional.\n\n \n\nf.       Mail\nTiming: Avoid sending messages outside of working hours unless urgent.\n\n \n\nMeetings: \n\n \n\nMeeting is one of the\nimportant means of communication within and outside the group. Following to be\ncomplied in respect of meetings:\n\na.     Meetings to\nbe scheduled through company approved calendar system.\n\nb.     Prepare\nagendas and share it with participants in advance.\n\nc.     Start and\nend meetings in time.\n\nd.     Follow up\nwith meeting minutes and action items.\n\n \n\nInternet:\n\n \n\nInternet is the basis and carrier of all communication. Use of\nInternet should be as given below:\n\n\n Internet\n     connection will be given to all work stations in the offices, to all the\n     industrial construction sites, and to selected employees.\n Connections to be taken\n     from reliable service providers.\n All SIMs are also\n     to be connected with Internet.\n\n\n \n\nSocial Media:\n\n \n\nFollowing\nsocial media can be used in Group Acme for the purposes shown against them:\n\n \n\na.     Viber: For\nreporting construction progress and for communication between employees. We\nshall have following groups in the Viber: Construction, Real Estate, HR,\nLogistics & Attendance.\n\n \n\nb.     WhatsApp:\nFor voice and data communication between the employees. We shall have following\ngroups in the WhatsApp: Chairman’s Directives, Shuddhachar, Acme Directors,\nICE. Individual projects can have their own WhatsApp group.\n\n \n\nc.     Discord:\nFor internal operations, admin and written communication within Acme AI and\nalso with the clients.\n\n \n\nd.     Facebook:\nFor branding and sales promotion of the companies of the group.\n\n \n\ne.     LinkedIn:\nFor branding and promotional activities.\n\n \n\nf.        Instagram: For branding and promotional\nactivities targeting the younger group.\n\n \n\ng.     TikTok: For\nbranding and sales promotion.\n\n \n\nh.     YouTube:\nFor branding and sales promotion.\n\n \n\nUnauthorized\nuse of any of the Social Media Sites by anyone is strictly prohibited.\n\n \n\nDocumentation:\n\n \n\nDocumentation\nprocess in the Group shall be as under:\n\n \n\na.     Store and\nshare documents on the company’s designated cloud storage (e.g., Google Drive,\nSharePoint etc).\n\nb.     Use\nstandardized templates for reports and presentations.\n\nc.     Keep\ndocuments organized and accessible to relevant parties.\n\n \n\nExternal Communication:\n\n \n\nFollowing\nto be complied for external communication:\n\na.     All press\nreleases, interviews, and public statements must be approved by the Chairman.\nDirect media inquiries to the Chairman.\n\n \n\nb.     Employees\nshould follow the company’s social media norms like avoiding posting of\nconfidential or sensitive informations and being respectful and professional in\nall posts related to the company.\n\n \n\nc.     Provide\nclear and timely responses to customer inquiries and while interacting with the\ncustomers. Use the company’s customer service channels (e.g., email, phone,\nchat) for communication and maintain a professional and courteous tone.\n\n \n\nConfidentiality and\nSecurity: \n\n \n\nHead of IT\nalong with Head of HR will be the joint admin of the Social Media Apps. Use of\nthe social medias will be according to ‘need to use basis’.\n\n \n\na.     Confidential\nInformation:\n\n                                 \nI.        \nDo not share confidential information with unauthorized parties.\n\n                               \nII.        \nUse encrypted communication channels for sensitive information.\n\n \n\nd.     Data\nProtection:\n\n                                 \nI.        \nFollow the company’s data protection policy.\n\n                               \nII.        \nReport any data breaches or security incidents immediately.\n\n \n\nPassword Security: \n\n \n\nFollowing\nare the instructions for password:\n\na.     Where\npossible all communication tools will be password protected. \n\nb.     Password\nwill be disseminated on need to know basis only by the admin. \n\nc.     Unauthorised\ndissemination of password by anyone is strictly prohibited and punishable.\n\n \n\nCompliance and Monitoring:\n\n \n\na.     Compliance:\nAll employees must comply with this policy. Non-compliance will result in\ndisciplinary action.\n\nb.     Monitoring:\nThe company reserves the right to monitor communication channels to ensure\ncompliance with this policy.\n\n \n\nTraining and Support:\n\n \n\na.     Training:\nEmployees will receive training on effective communication practices.\n\nb.     Support:\nFor questions or support, contact the IT or HR Departments.\n\n \n\nReview and Updates:\n\n \n\nThis policy\nwill be reviewed annually and will be updated as necessary.,
  input: What is The Umrah Hajj Policy?,
  output: Avb‡›`i\nmv‡_  mK‡ji AeMwZi Rb¨ Rvbv‡bv hv‡”Q †h,\n†Kv¤úvbxi Gi cwiPvjbv cl©`  †Kv¤úvbxi\nKg©KZ©v Ges Kg©Pvix‡`i‡K ‡Kv¤úvbxi Li‡P Igivn nR¦ cvj‡bi GKwU bxwZgvjv cÖ`vb\nK‡i‡Qb| GB bxwZgvjv Abyhvqx wb¤œwjwLZ fv‡e GKRb Kg©KZ©v ev Kg©Pvix Igivn n‡R¦i\nRb¨ wbev©wPZ n‡Z cv‡ibt\n\n \n\nK|\n‡Kv¤úvbx‡Z PvKzixKvj Kgc‡ÿ 7 ermi nB‡Z nB‡e|\n\nL| Zvnvi\n`ÿZv g~j¨vq‡b Mo gvK© Kgc‡ÿ 80% AR©b Kwi‡Z nB‡e|\n\nM| me©cwi\ncwiPvjbv cl©` KZ…©K wbe©vwPZ nB‡Z nB‡e|\n\n \n\nGB\nbxwZgvjv Kg©KZ©v Ges Kg©Pvix Dfq †ÿ‡ÎB cÖ‡hvR¨ nB‡e| GK cÄxe‡l© ïaygvÎ 2 Rb‡K\nwbe©vPb Kiv hvB‡e|,
  input: How Many Days of Annual Public\n     Holidays?,
  output: Holidays list \n\n● International Mother\nLanguage Day- 21st February \n\n● Independence Day- 26 March \n\n● Shab-e-qadr- (date depends\non moon cycle) \n\n● Eid Al-Fitr- (date depends\non moon cycle) \n\n● Bengali New Year- 14th April\n● LaborDay/May Day- 1st May \n\n● Eid Al-Adha- (date depends\non moon cycle) \n\n● Victory Day- 16th December\nThe Company publishes at the beginning of the calendar year a list of paid\nholidays.,
  input: What are the office Hours During Ramadan?,
  output: K| Awdm\nïiæ : mKvj 9:30 NwUKvq\n\nL| Awdm\n†kl : weKvj 4:00 NwUKvq\n\nGB Av‡`k\nïaygvÎ igRvb gv‡mi Rb¨ Kvh©Ki _vwK‡e Ges igRvb †k‡l Awdm mqg Avevi eZ©gv‡bi\nb¨vq ejer nB‡e|,
  input: What is The Mobile Bill Policy?,
  output: GZØviv mswkøô mK‡ji AeMwiZ Rb¨ Rvbv‡bv hv‡”Q †h, g¨v‡bR‡g›U Gi\nwm×všÍ †gvZv‡eK cÖwZ gv‡mi cÖ‡`q †gvevBj wej cwieZ©b K‡i PjwZ gvm †_‡K wb¤œ\nwjwLZ KvVv‡gv Abyhvqx cÖ‡`q Kiv n‡et\n\n\n\n\n \n  \n  µwgK bs\n  \n  \n  c`ex\n  \n  \n  ‡gvevBj we‡ji UvKvi cwigvb\n  \n  \n  gšÍe¨\n  \n \n \n  \n  1\n  \n  \n  cwiPvjK\n  g‡nv`q\n  \n  \n  1000.00\n  \n  \n   \n  \n \n \n  \n  2\n  \n  \n  g¨v‡bRvi\n  \n  \n  850.00\n  \n  \n   \n  \n \n \n  \n  3\n  \n  \n  wWcywU\n  g¨v‡bRvi\n  \n  \n  750.00\n  \n  \n   \n  \n \n \n  \n  4\n  \n  \n  G¨vwmm‡U›U\n  g¨v‡bRvi\n  \n  \n  650.00\n  \n  \n   \n  \n \n \n  \n  5\n  \n  \n  wmwbqi\n  Gw·wKDwUf\n  \n  \n  500.00\n  \n  \n   \n  \n \n \n  \n  6\n  \n  \n  Gw·wKDwUf\n  \n  \n  350.00\n  \n  \n   \n  \n \n \n  \n  7\n  \n  \n  Awdmvi\n  \n  \n  300.00\n  \n  \n   \n  \n \n\n\n\n\n \n\nD‡jøL¨\n†h, ïaygvÎ mvcøvB g¨v‡bRvi, gv‡K©wUs †nW Ges Acm kvLvi †KvwW©‡bUiM‡bi cÖ‡`q\n‡gvevBj we‡ji mv‡_ AwZwi³ 500 (cuvPkZ) UvKv †hvM Kiv n‡e|,
  input: What is The Leave Approval Policy?,
  output: mswkøó mK‡ji AeMwZi Rb¨ Rvbv‡bv hv‡”Q †h, g¨v‡bR‡g›U Gi wm×všÍ\n†gvZv‡eK hw` †Kvb Kg©KZ©v/Kg©PvixMb QzwUi Av‡e`b K‡ib Zvn‡j Zvnvi D×©Zb Kg©KZ©v\nD³ QzwU Aby‡gv`b Kwi‡j ev Aby‡gv`b bv Kwi‡j Zvnv 24 N›Uvi g‡a¨ QzwU Av‡e`bKvix\ne¨vw³‡K GBP Avi kvLvi gva¨‡g Rvwb‡q w`‡eb| Ab¨_vq Aby‡gv`b Qvov QzwU‡Z †M‡j\nZvnv Abycw¯’Z wnmv‡e Mb¨ nB‡e|,
  input: What is the Device Purchase & Use Policy?,
  output: mswkøó\nmK‡ji AeMwZi Rb¨ Rvbv‡bv hv‡”Q †h, 2022 mvj †_‡K GKwg †UK‡bvjwRm wjwg‡UW Gi †nW\nAwd‡mi Ges mvB‡Ui  mKj ‡W·Uc I j¨vcUc Gi\nDc‡i g¨v‡bR‡g›U KZ…©K GKwU bxwZgvjvi †Nvlbv Kiv n‡q‡Q| bZzb bxwZgvjv Abyhvqx\neZ©gv‡b †h mKj cyivZb ‡W·Uc I j¨vcUc iwnqv‡Q Zvnv Avc‡MÖW Ges cieZx©‡Z bZzb\nKw¤úDUvi I j¨vcUc µq I e¨envi Kivi †ÿ‡Î wb‡¤œv³ wbqg Abymib Kwi‡Z nB‡e:\n\n1| eZ©gv‡b ¯’xZ †W·Uc I j¨vcUc msµvšÍ bxwZgvjv\n\n\n \n  \n  SL No\n  \n  \n   Product\n  \n  \n  Technical Specification\n  \n  \n  Remarks\n  \n \n \n  \n  1\n  \n  \n  Processor\n  \n  \n   \n  \n  \n  eZ©gv‡b\n  †h mKj  ‡W·Uc I j¨vcUc Av‡Q †mUvi\n  †cÖv‡mmi Gi †Kvb cwieZ©b Kiv n‡e bv| \n  \n \n \n  \n  2\n  \n  \n  Storage \n  \n  \n  Hard Drive\n  \n  \n  1|\n  eZ©gv‡b †h †W·Uc ev j¨vcUc Av‡Q †mUvi mv‡_ k~a~gvÎ nvW© WªvBf †÷v‡iR ‡`Iqv\n  Av‡Q|  eZ©gv‡b wKQz j¨vcUc/‡W·U‡ci\n  axiMwZi Kvi‡b mv‡_ GKwU 128 wRwe GmGmwW †hvM K‡i †`Iqv †h‡Z cv‡i |\n  \n \n \n  \n  3\n  \n  \n  SSD 128 GB\n  \n \n \n  \n  3\n  \n  \n  Ram \n  \n  \n  8 GB\n  \n  \n  c~‡e©i hw` 4wRwe i¨vg _v‡K †m ‡ÿ‡Î \n  ‡mUvi  mv‡_ Av‡iv GKwU 4 wRwe\n  i¨vg †hvM Kiv n‡e| \n  \n \n \n  \n  4\n  \n  \n  Display\n  \n  \n  Monitor Size\n  14.5” to 18.5” \n  \n  \n  1| eZ©gvb †W·Uc Gi ‡ÿ‡Î gwbU‡ii mvBR 18.5Ó Av‡Q|\n  2| eZ©gvb j¨vcU‡ci ‡ÿ‡Î gwbU‡ii mvBR 14.5ÕÕ Av‡Q|\n  \n \n\n\n \n\n2| bZzb ‡W·Uc I j¨vcUc µ‡qi †ÿ‡Î bxwZgvjv\n\n\n \n  \n  SL No\n  \n  \n   Product\n  \n  \n  Technical Specification\n  \n  \n  Remarks\n  \n \n \n  \n  1\n  \n  \n  Processor\n  \n  \n  10th-11th Gen \n  Core i5-i7\n  \n  \n  bZzb\n  ‡W·Uc/j¨vcUc Gi Rb¨ wgwbgvg wiKz‡qig¨›U ïaygvÎ d«›U‡W· Gi  ‡W·U‡ci \n  †ÿ‡Î e¨wZµg n‡Z cv‡i| cieZx©‡Z Avc‡MÖW n‡j Avc‡WU Kivi wel‡q Aby‡gv`b\n  wb‡q Avc‡UW Ki‡Z n‡e|  \n  \n \n \n  \n  2\n  \n  \n  Ram  \n  \n  \n  8GB DDR4\n  \n  \n  1| j¨vcUc Ges ‡W·Uc µ‡qi †ÿ‡Î Aek¨B 8wRwe i¨vg _vK‡Z n‡e| \n  \n \n \n  \n  3\n  \n  \n  Storage\n  \n  \n  1 TB Hard Drive\n  128 GB SSD\n  \n  \n  \n  1| †W·Uc A_ev j¨vcUc µ‡qi †ÿ‡Î Aek¨B †óv‡iR 1 wUwe n‡Z n‡e  Ges cÖ‡qvRb n‡j 128 wRwe GKwU GmGmwW mshy³\n  Kiv †h‡Z cv‡i| \n  \n \n \n  \n  4\n  \n  \n  Graphic Card\n  \n  \n  4GB Graphic Card\n  \n  \n  ïaygvÎ d«›U‡W· Gi  wmwcIi\n  Rb¨ cÖ‡hvR¨|\n  \n \n \n  \n  5\n  \n  \n  Display\n  \n  \n  Monitor Size \n  18.5” to 21.5”\n  \n  \n  1| †W·U‡ci wcwmi †ÿ‡Î 18.5Ó wWm‡cøi gwbUi _vK‡e Ges ïaygvÎ GKwU\n  gwbU‡ii wWm‡cø 21.5Ó n‡Z cv‡i|\n  2| j¨vcU‡ci µ‡qi †ÿ‡Î 14.5Ó †_‡K 15.5Ó wWm‡cøi gwbUi n‡Z n‡e|\n  \n \n \n  \n  6\n  \n  \n  Keyboard & Mouse\n  \n  \n  Wireless/Bluetooth \n  \n  \n  1| j¨vcU‡ci †ÿ‡Î  Iq¨vi‡jm\n  gvDm cÖ`vb Kiv n‡e| \n  2| ‡W·U‡ci ‡ÿ‡Î Iq¨vi‡jm gvDm I Iq¨vi wK‡evW© cÖ`vb Kiv n‡e|\n  \n \n\n\n \n\n3| wewea:\n\n         K) Avqy :- cÖwZwU j¨vcUc I †W·U‡ci †ÿ‡Î †gqv`Kvj\nm‡ev©”P 5 eQi wbav©ib Kiv n‡jv|  5 eQ‡ii\nci j¨vcUc I †W·U‡ci Ae¯’vi Dci wfwË K‡i cieZx© wm×všÍ MÖnb Kiv n‡e| \n\n         L)\nAe‡njvRwbZ mgm¨v:- Awd‡mi evwn‡i\nj¨vcUc wb‡q hvIhvi ci e¨w³i Ae‡njvi Kvi‡b ‡h       †Kvb\nai‡bi mgm¨v ev bó n‡j Zvnvi `vqfvi e¨enviKixi Dci eZ©vB‡e Ges Rwigvbv avh© Kiv         n‡e| \n\n         M) enb\nbxwZ:- Awd‡mi  Kv‡Ri cÖ‡qvR‡b hw` †Kn\nj¨vcUc evmvq wb‡q †h‡Z B”QzK nb Z‡e        Zvnv m¤ú~Y© wbR `vwq‡Z¡ wb‡q †h‡Z  n‡e| cieZx©‡Z j¨vcUc nvwi‡q †M‡j ev bó n‡j\nZvnvi        m¤ú~b© `vqfvi Zvnvi Dc‡iB\neZ©vB‡e Ges µq ev wVK Kiv‡bvi LiP mg~n Zvnv‡K enb Kwi‡Z          nB‡e| \n\n         N) Kvnviv\nj¨vcUc Ges Kvnviv †W·Uc e¨envi Kwi‡e: we‡kl we‡kl e¨w³ e¨wZZ mK‡jB     †W·Uc e¨envi Kwi‡eb| j¨vcUc e¨enviKvix ‡K\nnB‡eb ‡mUv †Pq¨vig¨vb g‡nv`q wbav©ib K‡i     †`‡eb|,
  input: What is the Server Data Security Policy?,
  output: mswkøó\nmK‡ji AeMwZi Rb¨ Rvbv‡bv hv‡”Q †h, GKwg †UK‡bvjwRm wjwg‡UW Gi Awdwmqvj mKj\nKvh¨©µg GKwU BAviwc mdUIqvi Gi gva¨‡g cwiPvwjZ n‡”Q| mdUIqvi Gi gva¨‡g cwiPvwjZ\nnIqvi Kvi‡b Gw›UK…Z WvUv‡eR mg~n mdUIqv‡iB †iKW© _vK‡Q| cieZx©‡Z D³ WvUv‡eR\nmg~n mvf©vi wcwm‡Z GKwU wbw`ó ¯’v‡b wbavwiZ mg‡q e¨vKvc wnmv‡e A‡Uv WvDb‡jvW\nn‡”Q| mvf©vi wcwmwU †h‡Kvb mgq bó ev µvk nIqvi m¤¢vebv _vK‡Z cv‡i ‡m‡nZz\nWvUv‡eR e¨vKvc ivLvi Rb¨ GKwU wfbœ cwiKíbv ev e¨e¯’v ivL‡Z n‡e| ‡mB cwiKíbv\nAbyhvqx Avgiv K¬vDW‡eR GKwU †óv‡iR Gi e¨e¯’v Ki‡Z cvwi Ges ‡mwU mvf©vi wcwmi\nWvUv mg~n‡K A‡Uv‡gwUK Avc‡jvW Ki‡e| wb‡¤œ K¬vDW‡eR I WvUv e¨vKv‡ci wbqgvejx:\n\n \n\n WvUv‡eR e¨vKvc weeibx:\n\n\n \n  \n  SL No\n  \n  \n   Storage Name\n  \n  \n  Backup Day\n  \n  \n  Backup Time\n  \n \n \n  \n  1\n  \n  \n  Google Drive\n  15GB (Free Storage)\n  \n  \n  cÖwZw`b\n  2 evi K‡i \n  \n  \n  1|\n  mKvj 9:00 NwUKvq\n  1|\n  weKvj 5:00 NwUKvq\n  \n \n \n  \n  2\n  \n  \n  Server PC\n  Drive D (Auto)\n  \n  \n  cÖwZw`b\n  2 evi K‡i\n  \n  \n  1|\n  mKvj 9:00 NwUKvq\n  1|\n  weKvj 5:00 NwUKvq\n  \n \n \n  \n  3\n  \n  \n  Server PC\n  Drive F (Manual)\n  \n  \n  mvßv‡n\n  1 evi\n  \n  \n  weKvj\n  5:00 NwUKvq\n  \n \n\n\n1.        \n \n\nAb¨vb¨ wbqgvejx:\n\nK) cÖwZw`b\nmgqg‡Zv WvUv e¨vKvc wb‡”Q wKbv †mwU GBPAvi kvLv KZ…©K †PK Ki‡Z n‡e Ges WvUv\ne¨vKv‡ci wel‡q wbwðZ Ki‡Z n‡e|  \n\nL) cÖwZw`b\nmKv‡j †h WvUvwU e¨vKvc wnmv‡e bvg‡e †mwU wK \nweKv‡ji †h WvUv e¨vKvc bvg‡e †mUvi g‡a¨ AšÍf~³ wKbv ev c~‡e©i w`‡bi WvUv\nAvR‡Ki w`‡bi WvUvi g‡a¨ Aš‘f~³ wKbv †mwU wc‡bvwfkb †Kv¤úvbx KZ…©K wbwðZ Ki‡Z\nn‡e|  \n\nM) memgq\ncÖwZ GK mvßv‡ni WvUv ¸¸j WªvBe G msiwÿZ K‡i ivL‡Z n‡e Ges c~‡e©i WvUv mg~n ¸¸j\nWªvBf †_‡K gy‡Q w`‡Z n‡e GB mKj Kh¨©µg GBPAvi kvLvKZ…©K cwiPvwjZ n‡e |\n\nN) ¸¸j\nWªvBf Gi cvkvcvwk mvfv©i wcwm‡Z GKwU wbw`ó ‡óv‡iR G ev ¯’v‡b cyivZb Ges bZzb\nmKj WvUvmg~n msiwÿZ _vK‡e |,
  input: What is Increment Policy?,
  output: a.       Must have completed one year in the company\n\nb. Increment\nwill be as under    \n\n1. Gen increment\n                                 2.5% of basic\n\n2. Yearly\nevaluation.                             \n7.5% of basic max\n\n3.\nPromotion.                                          3% of\nbasic\n\n4. Observations\nof the directors          3% of basic max\n\n5. Special\nachievements.                       5% of\nbasic max\n\n6. Discipline\ncases.                                \n-5% of basic max,
  input: When is the next salary review?,
  output: প্রতি বছরের জুলাই মাসে স্যালারি\nরিভিউ করা হয়।,
  input: What is the salary range for this position?,
  output: Officer-16K\n\nExecutive- 20k\n\nSr. Executive-24K\n\nAsst. Manager-30k\n\nDeputy Manager-40k\n\nManager-60k\n\nAsst. General Manager-80k,
  input: Termination of employment?,
  output: Unsatisfactory progress during\nprobation may result in extension of the probation period or termination from\nthe service, at the discretion of the Company. During the period of probation,\none month’s notice or payment of one month’s Basic salary in lieu of notice\nwill be required on either side for termination of employment. No reason need\nbe given for such termination,
  input: How Will my supervisor evaluate my\n     performance? Are there specific metrics I can see?,
  output: First Three Month\n\n•      \nPerformance evaluation\n\n•      \nFeedback Sharing \n\n•      \nDevelopment assessment\n\n•      \nFollow up\n\n \n\nNext\nThree Month\n\n•      \nFinal evaluation\n\n•      \nFeedback shared\n\n•      \nService confirmed\n\n•      \nDiscontinued if not\nsatisfactory,
  input: What are the criterias for promotion?,
  output: ●       \nNeeded for the company\n\n●       \nTo complete 2 years\nservice from enrolment or from last promotion\n\n●       \nShould have vacancy\n\n●       \nPromotable in the eyes\nof the majority board members,
  input: I want to transfer my Project, what is the\n     process?,
  output: চাহিদা অনুযায়ী ম্যানেজমেন্ট এর\nসিদ্ধান্ত মোতাবেক অফিস অর্ডার এর মাধ্যমে কার্যক্রম করা হয়।,
  input: Do You use HRM Software?,
  output: we use ERP Software where HRM\nModule is included,
  input: What to do if you want to resign?,
  output: You are obliged to serve\nminimum for two year after recruitment. Leave the job before this period\nwithout one month’s prior notice, can cause deduction of salary of one month.,
  input: What is the Exit Interview Process?,
  output: To complete your exit\ninterview at Acme Technologies Ltd.: \n\nReceive the Form: You will be\ngiven an exit interview form by the HR department. Fill Out the Form: Complete\nthe form with your feedback and any other required information. \n\n \n\nSchedule the Interview:\nArrange a time for your exit interview with the MD and Chairman through HR. \n\nAttend the Interview:\nParticipate in the scheduled exit interview, where you will discuss your\nfeedback and experience with the MD and Chairman. This process ensures that\nyour feedback is heard and considered before your departure,
  input: What is the turnover rate of the company?,
  output: last year, in 2023, the\nturnover rate was 74.56%.,
  input: What is the Job Description?,
  output: We provide JD designation wise,
  input: How many departments are there in the company?,
  output: ●       \nConstruction\n\n●       \nReal Estate\n\n●       \nAccounts\n\n●       \nLogistic \n\n●       \nMarketing\n\n●       \nHR\n\n●       \nIT\n\n●       \nBudget\n\n●       \nAudit\n\n●       \nBizdev,
  input: What kind of working environment\n     will you give me?,
  output: I expect collaboration,\nstructured hours, effective communication, access to resources, a supportive\nculture, and potential flexibility for remote work, varying by\ncompany and industry.,
  input: How many hours is the general\n     working time?,
  output: General Working time 8 Hrs\nper day,
  input: Is there any over time?,
  output: no, our company don’t allow\nover time,
  input: Are there any facilities to stay and\n     eat?,
  output: There is no facilities to\nstay and eat,
  input: What percentage of Eid bonus is\n     there?,
  output: Two festival bonuses are paid\nto the eligible employee in a year during 2 Eid festivals, each equivalent to\n50% of last drawn gross salary.\n\nFor new joiners, bonus is\ndisbursed based on the following table when they\n\nhave not completed 6 months or not been permanent:\n\n\n \n  \n  Service Tenure\n  \n  \n  Bonus amount\n  \n \n \n  \n  0 days to <1 months\n  \n  \n  0%\n  \n \n \n  \n  1 months to <2 months\n  \n  \n  4.16% of the gross salary\n  \n \n \n  \n  2 months to <3 months\n  \n  \n  8.32% of the gross salary\n  \n \n \n  \n  3 months to <4 months\n  \n  \n  12.48% of the gross salary\n  \n \n \n  \n  4 months to <5 months\n  \n  \n  16.64% of the gross salary\n  \n \n \n  \n  5 months to <6 months\n  \n  \n  20.8% of the gross salary\n  \n \n \n  \n  6 months and above\n  \n  \n  50% of the  gross salary,
  input: Provident fund, gratuity or not?,
  output: we don’t have any policy\nabout provident fund & Gratuity.,
  input: Any extra payment on weekly, public\n     holiday duties?,
  output: no, We don’t pay any extra payment on weekly pubic holiday duties,
  input: What is the duration of\n     apprenticeship and whether there are any increments during regularization?,
  output: The Duration apprenticeship\nis 6 month & if his/her performance is satisfactory we provide increments\nafter being permanent.,
  input: What is your reporting system?,
  output: All Employee need to report\nhis/her Immediate Senior Officer,
  input: Office etiquette and manners?,
  output: 1.0  D‡Ïk¨t\n\nïay my›`i †Uwej-‡Pqvi, UvBjm& I Gwm-  Awd‡mi cwi‡ek my›`i K‡i bv eis my›`i\nAvPvi-e¨envi, k„•Ljv I bxwZgvjvi gva¨‡g GKwU `¶ Kv‡Ri cwi‡ek ˆZix nq| GKwU my¯’\nI my›`i Kv‡Ri cwi‡ek ˆZixi j‡¶ GwUGj Gi mevB‡K wb‡¤œv³ bxwZgvjv¸‡jv †g‡b Pjvi\nRb¨ Aby‡iva Kiv †Mj|\n\n \n\n \n\n2.0  Awdm\nmgqt\n\n2.1|\nAwd‡m mevB‡K 9 Uvi g‡a¨ Dcw¯’Z n‡Z n‡e|\n\n2.2|\n‡Kvb we‡kl Kvi‡b †`ix n‡j c~ev©‡ý Dchy³ KZ…©K¶/ wefvM‡K Rvbv‡Z n‡e|\n\n \n\n3.0  †cvkvK-cwi”Q`\nGes e¨w³MZ ¯^v_¨wewat\n\n3.1|\nAwd‡mi mevB‡K wbqwgZ †kf K‡i Avm‡Z n‡e|\n\n3.2|\ncÖ‡Z¨K Kg©KZ©v-Kg©Pvix‡K Awdm Dc‡hvMx cwi¯‹vi †cvkvK-cwi”Q` cwiavb Ki‡Z n‡e|\n\n3.3|\ncwi¯‹vi RyZv-‡gvRv cwiavb Ki‡Z n‡e|\n\n3.4|\ngy‡Li `yM©Ü n‡Z i¶v cvIqvi Rb¨ Wv³vix civgk©g‡Z gvD_Iqvk e¨envi Ki‡Z n‡e|\n\n3.5|\neM‡j `yM©Ü n‡Z i¶v cvIqvi Rb¨ wWI‡Wª›U e¨envi Ki‡Z n‡e|\n\n3.6|\nAwZwi³ RvuKRgK †cvkvK-cwi”Q` cwiavb †_‡K wb‡R‡K weiZ ivL‡Z n‡e\n\n3.7|\nAwZwi³ AjsKvi, mvR-m¾v cwinvi Ki‡Z n‡e|\n\n3.8|\nPzj wbqwgZ †K‡U myweb¨v¯Í Ae¯’vq ivL‡Z n‡e|\n\n3.9|\nnvZ cv‡qi bL wbqwgZ cwi¯‹vi I †K‡U †QvU ivL‡Z n‡e|\n\n3.10|\nAwd‡mi †h †Kvb †cÖvMÖv‡g Awd‡mi wba©vwiZ †cvkvK cwiavb Ki‡Z n‡e|\n\n3.11|\nAwd‡m m¨v‡Ûj c‡i Avmv A_ev Ihyi m¨v‡Ûj c‡i †NvivNywi m¤ú~b© wb‡la|\n\n \n\n \n\n4.0  Lvevit\n\n4.1|\n`ycy‡ii Lvevi 1Uv †_‡K 2:00 Uvi g‡a¨ †kl Ki‡Z n‡e|\n\n4.2|\n`ycy‡ii Lvev‡ii Rb¨ 30 wgwbU wbav©wiZ _vK‡e|\n\n4.3|\nLvIqvi c‡i wb‡Ri M¬vm-‡c¬U wb‡R cwi¯‹vi K‡i ivL‡Z n‡e|\n\n4.4|\nLvIqv †k‡l wb‡Ri RvqMv wb‡R‡K cwi¯‹vi K‡i ivL‡Z n‡e|\n\n4.5|\nïaygvÎ AwZw_i †¶‡Î Awdm ÷vd Pv-Kwd cwi‡ekb Ki‡e|\n\n4.6|\nevwni ‡_‡K Lvevi Avbv m¤ú~Y©fv‡e wbwl×| cÖ‡qvR‡b evB‡i wM‡q †L‡q Avm‡Z n‡e|\n\n \n\n \n\n5.0  Iqvkiæg\ne¨envit\n\n5.1|\nmKj Kg©KZv©-Kg©Pvix‡K wbav©wiZ Iqvkiyg e¨envi Ki‡Z n‡e|\n\n5.2|\nIqvkiyg h_vh_fv‡e e¨envi Ki‡Z n‡e|\n\n5.3|\nIqvkiyg e¨envi Kivi ci fvjfv‡e d¬¨vk Ki‡Z n‡e|\n\n5.4|\n†Lqvj ivL‡Z n‡e hv‡Z K‡gv‡Wi wig-Kfvi A_ev wig A_ev Iqvkiy‡gi †g‡S\n\ncvwb‡Z\nwf‡R bv hvq|\n\n5.5|\nIqvkiy‡gi †g‡S †Kvb Kvi‡b wf‡R _vK‡j mv‡_ mv‡_ my¨Bcvi A_ev wcqb‡K\n\ne‡j\ngywQ‡q wb‡Z  n‡e|\n\n5.6|\nhvi hvi †Zvqv‡j wb‡R msi¶Y Ki‡Z n‡e Ges cwi¯‹vi ivL‡Z n‡e|\n\n \n\n6.0  IhyLvbv\nI bvgvRt\n\n6.1|\nbvgv‡Ri RvgvZt †hvnit 15 wgwbU, Avmit 15 wgwbU| \n\n\n6.2|\nbvgv‡Ri c‡i RvqbvgvR h_vh_ ¯’v‡b wb‡R‡K ¸wQ‡q ivL‡Z n‡e|\n\n6.3|\nbvgv‡Ri cÖ‡qvRbxq mgq Qvov AwZwi³ mgq e¨envi Kiv n‡Z weiZ _vK‡Z n‡e|\n\n \n\n7.0  AwZw_/\nAf¨vMZt\n\n7.1|\nwiwmcmwbó mKj AwZwa/Af¨vMZ Gi weeib †iwRóv‡i wjwce× Ki‡eb|\n\n7.2|\nAwZw_/Af¨vMZ Awd‡mi hvi Kv‡Q G‡m‡Qb Zv‡K AewnZ Ki‡eb Ges AbygwZµ‡g Zvi Awd‡m\nwb‡q hv‡eb|\n\n7.3|\nAbygwZ bv cvIqv ch©šÍ Af¨_©bvi Rb¨ wbw`ó ¯’v‡b A‡c¶v Ki‡Z ej‡eb|\n\n7.4|\nwfwRUi‡K wb‡R wiwmf Kiv Ges wbav©wiZ K‡¶ ewm‡q wgwUs A_ev Avjvc Ki‡Z n‡e|\n\n \n\n \n\n8.0 mvaviY Awdm bxwZt\n\n8.1|\nAwd‡m †Kvb iKg ivR‰bwZK, ag©xq, e¨w³MZ I cvwievwiK Av‡jvPbv Kiv hv‡e bv|\n\n8.2|\n†Rv‡i kã K‡i K_v-ejv A_ev nvmv-nvwm Kiv hv‡e bv|\n\n8.3|\n†gvevB‡ji wis‡Uv‡bi kã mnbxq gvÎvq ivL‡Z n‡e|\n\n8.4|\nwb‡Ri †gvevBj ev Ab¨vb¨ `vgx wRwbmcÎ wb‡R‡KB mvg‡j ivL‡Z n‡e|\n\n8.5|\nAwd‡mi jvBU, d¨vb I Gwm webv Kvi‡b †Q‡o ivLv hv‡e bv Ges Awdm Z¨vM Kivi\n\nmgq\nG¸‡jv eÜ Av‡Q wKbv Zv wbwðZ Ki‡Z n‡e|\n\n8.6|\nAh_v wcª›Uv‡i wc›U †_‡K weiZ _vK‡Z n‡e Ges KvM‡Ri Dfq c„ôvi m‡e©v”P e¨envi\nwbwðZ Ki‡Z n‡e|\n\n8.7|\nAbygwZ e¨wZZ G‡K A‡b¨i †÷kbvixR, Kw¤úDUvi, j¨vcUc I †W· e¨envi †_‡K\n\nweiZ\n_vK‡Z n‡e|\n\n8.8|\n†Uwj‡dvb/ wcGweG·/ †gvevBj wZbwU wis‡Uv‡bi g‡a¨ aiv mvavib f`ªZvi g‡a¨ c‡o, ZvB\nGB  Af¨vmwU M‡o Zzj‡Z n‡e|\n\n8.9|\nwWcvU©‡g›Uvj †nW Ges wi‡cvwUs wmwbqi mycvifvBRvi‡K m¨vi/g¨vWvg e‡j m‡¤^vab\n\nKi‡Z\nn‡e|\n\n8.10|\nwgwUs A_ev †Uªwbs G wbav©wiZ mg‡qi c~‡e© Dcw¯’Z n‡Z n‡e|\n\n8.11|\nAwd‡mi  †Kvb cÖKvi ¸Re/ AvZsK Qov‡bv\nm¤ú~Y©fv‡e wbwl×|\n\n8.12|\nAwd‡mi †÷kbvix I Ab¨vb¨ Awdwmqvj hš¿cvwZ A_ev wRwbmcÎ webv\nKvi‡b e¨envi †_‡K weiZ _vK‡Z n‡e|\n\n8.13|\nwb‡Ri d‡UvKwc wb‡R‡KB Ki‡Z n‡e|\n\n8.14|\n†Kvb cÖKvi Akvjxb K_v-evZ©v †_‡K weiZ _vK‡Z n‡e|\n\n8.15|\nAwd‡m †dBmeyK A_ev Ab¨ †Kvb †mvk¨vj wgwWqv A_ev AcÖ‡qvRbxq B›Uvi‡bU mvBU A_ev\n†Kvb iKg Mvb-ev`¨ we‡kl Kvib e¨wZZ e¨envi G‡Kev‡iB wbwl×| †Kvb ai‡bi cY © mvBU\ne¨enviKvix aiv co‡j webv †bvwU‡m\nPvKzix n‡Z eiLv¯Í   Kiv n‡e|\n\n8.16|\nwb‡Ri cÖ‡qvR‡b †h †Kvb cÖKvi WvDb‡jvW wbwl×|\n\n8.17|\nwb‡Ri emvi RvqMv, †Uwej, †Pqvi, Kw¤úDUvi, j¨vcUc, wcª›Uvi wb‡R‡K cwi¯‹vi ivL‡Z\nn‡e|\n\n8.18|\nmevB mevB‡K c`gh©v`vi web¨v‡m m¤§vb Ki‡e|\n\n8.19|\nwmwbqi‡`i mv‡_ K_v evjvi mgq c‡K‡U nvZ bv ivLv A_ev †gvevBj  †dvb wiwmf bv Kiv|\n\n8.20|\nwgwUs‡qi mgq †gvevBj †dvb bxie  K‡i ivL‡Z\nn‡e Ges †Kvb Riyix Awdwmqv †dvb Avm‡j wgwUs iy‡gi  evB‡i wM‡q wiwmf Ki‡Z n‡e|\n\n8.21|\nAh_v Kvi‡b A_ev Mí-¸R‡ei gva¨‡g mgq bó Kiv †_‡K weiZ _vK‡Z n‡e|\n\n8.22|\nG‡K A‡b¨i †`vlv‡ivc Kiv †_‡K weiZ _vK‡Z n‡e|\n\n8.23|\nmevB ACME Gi wUg †g¤^vi wnmv‡e G‡K Aci‡K\nmn‡hvwMZv I mgš^‡qi gva¨‡g KvR  Ki‡Z  n‡e|,
"""

user_history = {}


def generate_response(input_text, user_id):
    history = custom_content + user_history.get(user_id, "")
    prompt = f"{history}\n\ninput: {input_text}\noutput: "
    response = model.generate_content([prompt])

    new_entry = f"input: {input_text}\noutput: {response.text}\n"
    user_history[user_id] = history + new_entry
    return response.text


@bot.message_handler(func=lambda m: True)
def echo_all(message):
    input_text = message.text
    user_id = message.chat.id
    output = generate_response(input_text, user_id)
    bot.reply_to(message, output)


def start_bot_polling():
    bot.infinity_polling()


polling_thread = threading.Thread(target=start_bot_polling)
polling_thread.start()

# Minimal Flask app for port binding
app = Flask(__name__)


@app.route('/')
def home():
    return "Bot is running!"


if __name__ == "__main__":
    app.run(host='0.0.0.0', port=10000)
